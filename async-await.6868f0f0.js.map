{"mappings":"qhBAEA,MAGaA,EAAiBC,eAAgBC,GAC5C,MAAMC,QAAiBC,MAAM,uCAAcF,oDAE3C,IAAKC,EAASE,GACZ,MAAM,IAAIC,MAAMH,EAASI,QAI3B,aADmBJ,EAASK,M,gCCZ9B,MAOMC,EAAO,CACXC,YAAaC,SAASC,cAAc,eACpCC,YAAaF,SAASC,cAAc,iBACpCE,YAAaH,SAASC,cAAc,kBAGtCH,EAAKC,YAAYK,iBACf,QACAC,EAAAC,EAAA,EAGFhB,eAA6BiB,GAC3B,MAAMC,EAAcD,EAAEE,OAAOC,MAAMC,OAKnC,GAuDF,WACEb,EAAKK,YAAYS,UAAY,GAC7Bd,EAAKI,YAAYU,UAAY,E,CA3D7BC,GAEoB,KAAhBL,EACF,OAGF,IACE,MAAMM,QAAazB,EAAemB,GAElC,GAAIM,EAAKC,OAAS,GAEhB,YADAC,EAAAC,OAAOC,KAAK,8DAIdJ,EAAKK,SAAQC,IACS,IAAhBN,EAAKC,OAYf,UAAyBxB,KAAEA,EAAI8B,QAAEA,EAAOC,MAAEA,EAAKC,UAAEA,EAASC,WAAEA,IAC1D,MAAMC,EAAS,2DACgBH,EAAMI,kCACnCnC,EAAKoC,mEAEsBpC,EAAKqC,oGAGMP,EAAQ,gEAENQ,OAAOC,OAAOP,GAAWQ,KAC/D,oEAGuCP,4BAI3C1B,EAAKK,YAAY6B,mBAAmB,YAAaP,E,CA7B3CQ,CAAgBb,GAgCxB,UAAyB7B,KAAEA,EAAI+B,MAAEA,IAC/B,MAAMG,EAAS,2DACgBH,EAAMI,kCAAkCnC,EAAKoC,mEAC/CpC,EAAKoC,0BAGlC7B,EAAKI,YAAY8B,mBAAmB,YAAaP,E,CApC3CS,CAAgBd,EAAG,G,CAGvB,MAAOe,GACPC,QAAQC,IAAIF,GACZnB,EAAAC,OAAOqB,QAAQ,2C,IA7CI","sources":["src/js-async-await/feachCountriesAA.js","src/js-async-await/async-await.js"],"sourcesContent":["// import { Notify } from 'notiflix';\n\nconst URL = 'https://restcountries.com/v3.1/';\nconst params = 'fields=name,capital,population,flags,languages';\n\nexport const fetchCountries = async function (name) {\n  const response = await fetch(`${URL}name/${name}?${params}`);\n\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n\n  const data = await response.json();\n  return data;\n};\n","const DEBOUNCE_DELAY = 300;\n\nimport '../css/styles.css';\nimport { fetchCountries } from './/feachCountriesAA';\nimport debounce from 'lodash.debounce';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  searchInput: document.querySelector('#search-box'),\n  countryList: document.querySelector('.country-list'),\n  countryInfo: document.querySelector('.country-info'),\n};\n\nrefs.searchInput.addEventListener(\n  'input',\n  debounce(onSearchInput, DEBOUNCE_DELAY)\n);\n\nasync function onSearchInput(e) {\n  const searchValue = e.target.value.trim();\n  // console.log(searchValue);\n\n  clearInnerInterface();\n\n  if (searchValue === '') {\n    return;\n  }\n\n  try {\n    const data = await fetchCountries(searchValue);\n\n    if (data.length > 10) {\n      Notify.info('Too many matches found. Please enter a more specific name.');\n      return;\n    }\n\n    data.forEach(el => {\n      if (data.length === 1) {\n        showCountryInfo(el);\n      } else {\n        showCountryList(el);\n      }\n    });\n  } catch (error) {\n    console.log(error);\n    Notify.failure('Oops, there is no country with that name');\n  }\n}\n\nfunction showCountryInfo({ name, capital, flags, languages, population }) {\n  const markup = `<div class=\"row title\">\n    <img class=\"flag-img\" src=\"${flags.svg}\" alt=\"The national flag of ${\n    name.common\n  }\" width=\"28\" height=\"auto\">\n    <h2 class=\"country-name\">${name.official}</h2>\n    </div>\n    <ul class=\"common-info\">\n    <li class=\"row\"><h3>Capital:</h3><p>${capital[0]}</p>\n    </li>\n    <li class=\"row\"><h3>Languages:</h3><p>${Object.values(languages).join(\n      ', '\n    )}</p>\n    </li>\n    <li class=\"row\"><h3>Population:</h3><p>${population}</p>\n    </li>\n  </ul>`;\n\n  refs.countryInfo.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction showCountryList({ name, flags }) {\n  const markup = `<div class=\"row title\">\n    <img class=\"flag-img\" src=\"${flags.svg}\" alt=\"The national flag of ${name.common}\" width=\"28\" height=\"auto\">\n    <h2 class=\"country-name\">${name.common}</h2>\n    </div>`;\n\n  refs.countryList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearInnerInterface() {\n  refs.countryInfo.innerHTML = '';\n  refs.countryList.innerHTML = '';\n}\n"],"names":["$65a127357fc9700a$export$1d1c4391ecac81e8","async","name","response","fetch","ok","Error","status","json","$8bef2a77d6364ef3$var$refs","searchInput","document","querySelector","countryList","countryInfo","addEventListener","$parcel$interopDefault","$50Kfe","e","searchValue","target","value","trim","innerHTML","$8bef2a77d6364ef3$var$clearInnerInterface","data","length","$iQIUW","Notify","info","forEach","el","capital","flags","languages","population","markup","svg","common","official","Object","values","join","insertAdjacentHTML","$8bef2a77d6364ef3$var$showCountryInfo","$8bef2a77d6364ef3$var$showCountryList","error","console","log","failure"],"version":3,"file":"async-await.6868f0f0.js.map"}